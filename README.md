#俄罗斯方块游戏说明

##使用方法

需要引入game.js文件，存放游戏的一些函数

首先要初始化游戏,var Russia = new Russia();

参数以对象形式传入:
 - gc: 传入创建好的canvas,必传参数
 - width: 传入canvas的width属性,必传参数
 - height: 传入canvas的height属性,必传参数
 - SquareX: 设置游戏的X轴,也就是有多少列,数值类型,非必传项,默认40,根据canvas的width属性设置
 - SquareY: 设置游戏的Y轴,也就是有多少行,数值类型,非必传项,默认20,根据canvas的height属性设置
 - bgColor: 设置游戏的背景颜色,字符串类型,默认为'#272822'
 - scoreID: 传入计分器的元素对象,必传项
 - line: 游戏分割线的宽度,数值类型,默认为1,没有特殊情况不需要传值

初始化完毕后调用Russia.play()方法,如果需要手动结束游戏则调用Russia.gameOver()方法

##说明

总体思路是通过数组的数字来确定canvas绘制的背景和方块颜色,因为有行和列所以是二维数组,方块下落的过程实时重绘canvas,并且检测当前下落方块的周围数组的数字来确定碰撞情况。加速和增加难度是改变定时器的速度,方块的翻转就是翻转数组。
比较核心的内容就是检测碰撞,有很多种情况,包括触碰边缘、触碰已经存在的方块、触碰后怎样绘制(和已经存在的方块拼接)。

game.js中是一个Russia构造函数,所有和游戏相关的方法都扩展在该函数的原型上。

方法列表(实现思路)：

 - matrix: 这是一个属性,存放当前运动的方块,实际上是一个二维数组
 - mold: 从存放方块形状的二维数组中随机获取一个形状
 - map: 绘制游戏地图尺寸函数,参数行和列
 - render: 地图绘制方格,根据不同的方块绘制不同的颜色
 - create: 在canvas中创建随机形状的方块,参数是mold方法生成的随机数组,最后调用render方法重新绘制
 - rotate: 数组翻转函数,实际上就是把matrix数组旋转90度
 - clearPrev: 清除落下的痕迹,改变下落后之前位置的数组的值,然后重新绘制
 - collideTest: 检测碰撞,如果碰撞了就返回true,分两种情况,1是碰撞边界,2是碰撞别的方块
 - collideTestLR: 检测左右碰撞,左右移动过程中,碰撞边缘或者别的方块就返回true
 - score: 增加方块下落速度的函数,也就是增加难度
 - clearLine: 如果满一行就删除这行,在最上面增加一行空白的,消除后要增加分数。
 - fall: 方块自然下落,每下落一格都要重新创建方块(执行create),也就是要重新绘制canvas
 - auto: 方块下落的定时器,内部就是执行fall方法
 - play: 开始游戏函数,需要执行这个方法游戏才能开始,在这里先初始化(将mold的返回值赋值给matrix,运行create和auto函数),通过判断键盘按下的键值做出相应操作
 - gameOver: 游戏结束的函数,清除一切按键事件和定时器
